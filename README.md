
### 
- ch00  "Go json-srv **–ü—Ä–æ–µ–∫—Ç JSON API Server ( Go 1.25.1 )"
- ch01  "–∫–∞—Ä–∫–∞—Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞ ( Go 1.25.1 )"





-INFO:

##  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π –º–æ–¥—É–ª—å Go

–ö–æ–º–∞–Ω–¥–æ–π:

```bash
go mod init myapp
```

* `myapp` ‚Äî —ç—Ç–æ –∏–º—è —Ç–≤–æ–µ–≥–æ –º–æ–¥—É–ª—è (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏ –ø—É—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä `github.com/vladimir/myapp` –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –∑–∞–ª–∏–≤–∞—Ç—å –Ω–∞ GitHub).
* –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `go.mod`, –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏–º—è –º–æ–¥—É–ª—è –∏ –≤–µ—Ä—Å–∏—è Go.

–ü—Ä–∏–º–µ—Ä `go.mod`:

```go
module myapp

go 1.23
```

---

### 2. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `main.go`

–°–æ–∑–¥–∞–π –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª:

```bash
nano main.go
```

–ò –Ω–∞–ø–∏—à–∏ —Ç—É–¥–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥:

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, Go!")
}
```
### –Ø–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
```
go get github.com/gorilla/mux
```
---

### 3. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç

–í—ã–ø–æ–ª–Ω–∏:

```bash
go run .
```
–∏–ª–∏ (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ)

```bash
go run main.go
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
Hello, Go!
```

---

### 4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–±–µ—Ä–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª:

```bash
go build
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –ø–∞–ø–∫–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `myapp.exe` (–≤ Windows) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `myapp` (–≤ Linux/Mac).


## Go –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ —É–≤–∏–¥–µ—Ç—å, **–∫–∞–∫–æ–π –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä**.
–ù–∏–∂–µ ‚Äî –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã, –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ.

---

##  1. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî —á–µ—Ä–µ–∑ `go tool compile -S`

–î–æ–ø—É—Å—Ç–∏–º, —É —Ç–µ–±—è –µ—Å—Ç—å —Ñ–∞–π–ª `main.go`:

```go
package main

func add(a, b int) int {
    return a + b
}

func main() {
    _ = add(2, 3)
}
```

–¢–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
go tool compile -S main.go
```

üîπ –≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç **–∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π Go —Å–æ–∑–¥–∞—ë—Ç –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `amd64`).

–ü—Ä–∏–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –≤—ã–≤–æ–¥–∞:

```
"".add STEXT nosplit size=15 args=0x10 locals=0x0
	0x0000 00000 (main.go:3)	TEXT	"".add(SB), NOSPLIT|ABIInternal, $0-16
	0x0000 00000 (main.go:3)	MOVQ	"".b+8(SP), AX
	0x0005 00005 (main.go:3)	ADDQ	"".a+0(SP), AX
	0x0009 00009 (main.go:3)	MOVQ	AX, "".~r2+16(SP)
	0x000e 00014 (main.go:3)	RET
```

–ó–¥–µ—Å—å:

* `MOVQ` ‚Äî –ø–µ—Ä–µ–Ω–æ—Å 64-–±–∏—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
* `ADDQ` ‚Äî —Å–ª–æ–∂–µ–Ω–∏–µ
* `SP` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ç–µ–∫–∞
* `SB` ‚Äî "static base" (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)

---

##  2. –ß–µ—Ä–µ–∑ `go build -gcflags`

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–æ–±—Ä–∞—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–≤–µ—Å—Ç–∏ –∞—Å—Å–µ–º–±–ª–µ—Ä:

```bash
go build -gcflags="-S" main.go
```

–∏–ª–∏, —á—Ç–æ–±—ã –ø–æ–¥–∞–≤–∏—Ç—å –∫—É—á—É –ª–∏—à–Ω–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

```bash
go build -gcflags="-S -N -l" main.go
```

üî∏ –§–ª–∞–≥–∏:

* `-N` ‚Äî **–æ—Ç–∫–ª—é—á–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
* `-l` ‚Äî **–æ—Ç–∫–ª—é—á–∞–µ—Ç –∏–Ω–ª–∞–π–Ω–∏–Ω–≥**

–≠—Ç–æ —É–¥–æ–±–Ω–æ, –µ—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å ¬´—á–∏—Å—Ç—ã–π¬ª –∞—Å—Å–µ–º–±–ª–µ—Ä –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π.

---

##  3. –ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–º–æ—Ç—Ä–µ—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `go tool objdump`, —á—Ç–æ–±—ã –¥–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞—Ç—å —É–∂–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫:

```bash
go build -o main.exe
go tool objdump -s "main.add" main.exe
```

üîπ –ü–æ–∫–∞–∂–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `main.add`.

---

##  4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —á–µ—Ä–µ–∑ `go build` + `objdump` Unix
 
–¥–ª—è Windows (—á–µ—Ä–µ–∑ mingw64):

```bash
objdump -d main.exe
```

---

## –ü—Ä–∏–º–µ—Ä: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∏ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

### –ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

```bash
go tool compile -S -N -l main.go
```

–ê—Å—Å–µ–º–±–ª–µ—Ä –±—É–¥–µ—Ç –¥–ª–∏–Ω–Ω—ã–π, —à–∞–≥–∏ –æ—á–µ–≤–∏–¥–Ω—ã (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∞–ª—å–Ω–æ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å—Ç–µ–∫).

### –° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏

```bash
go tool compile -S main.go
```

Go –º–æ–∂–µ—Ç —É–±—Ä–∞—Ç—å —Å—Ç–µ–∫, –∑–∞–∏–Ω–ª–∞–π–Ω–∏—Ç—å `add()` –ø—Ä—è–º–æ –≤ `main()`, –∏ —Ç—ã —É–≤–∏–¥–∏—à—å –º–µ–Ω—å—à–µ –∫–æ–¥–∞.

---
## üí° –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

| –¶–µ–ª—å                       | –ö–æ–º–∞–Ω–¥–∞                                            |
| -------------------------- | -------------------------------------------------- |
| –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä —Å—Ä–∞–∑—É | `go tool compile -S main.go`                       |
| –û—Ç–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏      | `go tool compile -S -N -l main.go`                 |
| –î–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫ | `go tool objdump -s "main.func" main.exe`          |
| –ß–µ—Ä–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | [https://go.godbolt.org/](https://go.godbolt.org/) |

---


